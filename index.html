<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>BRIDGE HUD</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

  :root {
    --bg-color: #000;
    --grid-color: rgba(255,255,255,0.02);
    --text-color: #FF1A1A;
    --border-color: #FF1A1A;
    --glow-color: #FF0000;
  }

  body {
    margin: 0;
    background-color: var(--bg-color);
    font-family: 'Press Start 2P', monospace;
    color: var(--text-color);
    position: relative;
  }

  body::before {
    content: "";
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background:
      linear-gradient(to bottom, var(--grid-color) 1px, transparent 1px),
      linear-gradient(to right, var(--grid-color) 1px, transparent 1px);
    background-size: 20px 20px;
    pointer-events: none;
    z-index: 0;
  }

  h1 {
    text-align: center;
    font-size: 3rem;
    margin: 20px auto 10px;
    letter-spacing: 0.15em;
    color: var(--text-color);
    text-shadow: none;
    white-space: nowrap;
    overflow: hidden;
    border-right: 2px solid var(--text-color);
    animation: typewriter 3s steps(30, end);
    width: 14ch;
    position: relative;
    z-index: 1;
  }

  @keyframes typewriter {
    from { width: 0; }
    to { width: 14ch; }
  }

  .mode-btn {
    display: block;
    margin: 10px auto 20px;
    background: var(--text-color);
    color: var(--bg-color);
    border: none;
    padding: 10px 20px;
    font-size: 0.8rem;
    cursor: pointer;
    font-family: 'Press Start 2P', monospace;
    z-index: 1;
    position: relative;
  }

  .container {
    width: 95vw;
    max-width: 1600px;
    margin: 0 auto 40px;
    display: flex;
    flex-direction: column;
    gap: 40px;
    z-index: 1;
    position: relative;
    align-items: center;
  }

  .radar-wrapper {
    display: flex;
    align-items: center;
    gap: 15px;
  }

  .radar-circle {
    background-color: rgba(0,0,0,0.8);
    border: 6px solid var(--border-color);
    box-shadow: 0 0 15px var(--glow-color);
    border-radius: 50%;
    width: 400px;
    height: 400px;
    overflow: hidden;
    position: relative;
  }

  .radar-circle iframe {
    position: absolute;
    top: -25%; left: -25%;
    width: 150%; height: 150%;
    border: none;
    clip-path: circle(50% at 50% 50%);
  }

  .button-column {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .console-btn {
    background: var(--text-color);
    color: var(--bg-color);
    border: none;
    padding: 8px;
    font-size: 0.5rem;
    cursor: pointer;
    font-family: 'Press Start 2P', monospace;
    width: 60px;
  }

  .console-btn:hover { background: #ff4d4d; }

  @media (max-width: 900px) {
    .radar-wrapper { flex-direction: column; }
    .button-column { flex-direction: row; }
  }
</style>
</head>
<body>
  <h1>BRIDGE HUD</h1>
  <button class="mode-btn" onclick="toggleMode()">DAY / NIGHT</button>

  <div class="container">
    <!-- AIS Marine Traffic -->
    <div class="radar-wrapper">
      <div class="radar-circle">
        <iframe id="ais"
          src="https://www.marinetraffic.com/en/ais/embed/zoom:10/centery:41.8781/centerx:-87.6298/showmenu:false/shownames:false/maptype:1"
          allowfullscreen loading="lazy"></iframe>
      </div>
      <div class="button-column">
        <button class="console-btn" onclick="reloadFrame('ais')">REFRESH</button>
      </div>
    </div>

    <!-- Weather Radar -->
    <div class="radar-wrapper">
      <div class="radar-circle">
        <iframe id="radar"
          src="https://embed.windy.com/embed2.html?lat=41.8781&lon=-87.6298&zoom=8&radar=1&level=surface"
          allowfullscreen loading="lazy"></iframe>
      </div>
      <div class="button-column">
        <button class="console-btn" onclick="reloadFrame('radar')">REFRESH</button>
      </div>
    </div>

    <!-- Moon Phase -->
    <div class="radar-wrapper">
      <div class="radar-circle">
        <iframe id="moon"
          src="https://dimden.dev/moon?custom=1&textColor=%23FF0000"
          title="Moon Phase" loading="lazy"></iframe>
      </div>
      <div class="button-column">
        <button class="console-btn" onclick="reloadFrame('moon')">REFRESH</button>
      </div>
    </div>

    <!-- Chicago News Headlines -->
    <div class="radar-wrapper">
      <div class="radar-circle">
        <iframe id="news"
          src="https://www.rssdog.com/index.php?url=https%3A%2F%2Fwww.nbcchicago.com%2Ffeed%2F&mode=html&showonly=&maxitems=8&showdescs=1&desctrim=100&descmax=200&tabwidth=100%"
          title="Chicago News Headlines" loading="lazy"></iframe>
      </div>
      <div class="button-column">
        <button class="console-btn" onclick="reloadFrame('news')">REFRESH</button>
      </div>
    </div>
  </div>

<script>
  function reloadFrame(id) {
    const frame = document.getElementById(id);
    frame.src = frame.src;
  }

  function toggleMode() {
    const root = document.documentElement;
    const current = getComputedStyle(root).getPropertyValue('--text-color').trim();
    if (current === '#FF1A1A') {
      root.style.setProperty('--text-color', '#00FF00');
      root.style.setProperty('--border-color', '#00FF00');
      root.style.setProperty('--glow-color', '#00FF00');
      document.querySelector('.mode-btn').style.background = '#00FF00';
      document.querySelector('.mode-btn').style.color = '#000';
    } else {
      root.style.setProperty('--text-color', '#FF1A1A');
      root.style.setProperty('--border-color', '#FF1A1A');
      root.style.setProperty('--glow-color', '#FF0000');
      document.querySelector('.mode-btn').style.background = '#FF1A1A';
      document.querySelector('.mode-btn').style.color = '#000';
    }
  }
</script>
</body>
</html>
